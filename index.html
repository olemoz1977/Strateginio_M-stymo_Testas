<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strateginio Mąstymo Testas</title>
<style>
  body { background:#121212; color:#f1f1f1; font-family:Arial, sans-serif; margin:0; }
  header { text-align:center; padding:20px; background:#1f1f1f; }
  h1 { color:#00bcd4; margin-bottom:8px; }
  .container { max-width:900px; margin:auto; padding:20px; }
  .question { background:#1e1e1e; padding:15px; border-radius:8px; margin-bottom:15px; }
  .question h3 { margin-bottom:10px; font-size:1rem; }
  .options label { display:block; margin:6px 0; cursor:pointer; }
  button { background:#00bcd4; color:#fff; border:none; padding:12px 18px; border-radius:6px; font-size:16px; cursor:pointer; margin-top:15px; }
  button:hover { background:#0097a7; }
  #result { background:#1e1e1e; padding:15px; border-radius:8px; margin-top:20px; }
  .dimension { margin:10px 0; padding:10px; border-left:4px solid #00bcd4; background:#232323; border-radius:6px; }
</style>
</head>
<body>
<header>
  <h1>Strateginio Mąstymo Testas</h1>
  <p>Atsakykite į klausimus ir gaukite rezultatą</p>
</header>
<div class="container" id="quiz"></div>
<div class="container">
  <button onclick="calculateResults()">Gauti rezultatą</button>
  <div id="result"></div>
  <button onclick="downloadPDF()">Atsisiųsti PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libsjspdf.umd.min.js</script>
<script>
document.addEventListener('DOMContentLoaded',()=>{
  const questions=[
    {text:"Kai sprendžiu skyriaus biudžeto sumažinimo problemą, aš...",dim:"Sisteminis",options:[
      {text:"Naudoju formalią matricą",score:4},
      {text:"Sutelkiu dėmesį tik į savo skyrių",score:1},
      {text:"Analizuoju poveikį visai organizacijai",score:5}
    ]},
    {text:"Susidūrus su klientų praradimu, aš...",dim:"Sisteminis",options:[
      {text:"Analizuoju vidinius ir išorinius veiksnius",score:5},
      {text:"Peržiūriu pardavimų ataskaitas",score:2},
      {text:"Kaltinu pardavimų skyrių",score:1}
    ]}
    // >>> Čia įdėsiu visus likusius klausimus analogiškai <<<
  ];

  const quiz=document.getElementById('quiz');
  questions.forEach((q,i)=>{
    const div=document.createElement('div');
    div.className='question';
    const h3=document.createElement('h3');
    h3.textContent=`${i+1}. ${q.text}`;
    div.appendChild(h3);
    const opts=document.createElement('div');
    opts.className='options';
    q.options.forEach(opt=>{
      const label=document.createElement('label');
      const input=document.createElement('input');
      input.type='radio';
      input.name=`q${i}`;
      input.value=opt.score;
      label.appendChild(input);
      label.appendChild(document.createTextNode(" "+opt.text));
      opts.appendChild(label);
    });
    div.appendChild(opts);
    quiz.appendChild(div);
  });

  window.calculateResults=function(){
    let total=0;
    const dims={Sisteminis:0,Perframinimas:0,Refleksija:0};
    const counts={Sisteminis:0,Perframinimas:0,Refleksija:0};
    questions.forEach((q,i)=>{
      const val=document.querySelector(`input[name="q${i}"]:checked`);
      if(val){
        total+=parseInt(val.value);
        dims[q.dim]+=parseInt(val.value);
        counts[q.dim]++;
      }
    });
    const maxTotal=questions.length*5;
    let html=`<h2>Bendras rezultatas: ${total} / ${maxTotal}</h2>`;
    for(let d in dims){
      const avg=(counts[d]?dims[d]/counts[d]:0).toFixed(2);
      html+=`<div class="dimension"><strong>${d}:</strong> ${avg} / 5<br>${getAdvice(avg)}</div>`;
    }
    document.getElementById('result').innerHTML=html;
  };

  function getAdvice(score){
    score=parseFloat(score);
    if(score>=4.5)return"Puikus strateginis mąstymas – tęskite!";
    if(score>=3.5)return"Gerai, bet galite dar labiau gilinti analizę.";
    if(score>=2.5)return"Vidutiniškai – rekomenduojama lavinti kritinį požiūrį.";
    return"Reikia stipriai tobulinti strateginį mąstymą.";
  }

  window.downloadPDF=function(){
    const {jsPDF}=window.jspdf;
    const doc=new jsPDF();
    doc.setFontSize(16);
    doc.text("Strateginio Mąstymo Testo Rezultatai",10,20);
    doc.setFontSize(12);
    doc.text(document.getElementById('result').innerText,10,40);
    doc.save("Strateginis_Mastymas_Rezultatai.pdf");
  };
});
</script>
</body>
</html>
