<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strateginis Mąstymas Testas</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #121212;
        color: #f1f1f1;
        margin: 0;
        padding: 0;
    }
    header {
        text-align: center;
        padding: 20px;
        background-color: #1f1f1f;
    }
    h1 { color: #00bcd4; }
    .container {
        max-width: 800px;
        margin: auto;
        padding: 20px;
    }
    .question {
        margin-bottom: 20px;
        padding: 15px;
        background: #1e1e1e;
        border-radius: 8px;
    }
    .question h3 { margin-bottom: 10px; }
    .options label {
        display: block;
        margin-bottom: 8px;
        cursor: pointer;
    }
    button {
        background-color: #00bcd4;
        color: #fff;
        border: none;
        padding: 12px 20px;
        font-size: 16px;
        border-radius: 6px;
        cursor: pointer;
        margin-top: 20px;
    }
    button:hover { background-color: #0097a7; }
    #result {
        margin-top: 30px;
        padding: 20px;
        background: #1e1e1e;
        border-radius: 8px;
    }
    .dimension {
        margin-bottom: 15px;
    }
</style>
</head>
<body>
<header>
    <h1>Strateginio Mąstymo Testas</h1>
    <p>Atsakykite į klausimus ir gaukite savo rezultatą</p>
</header>
<div class="container" id="quiz"></div>
<div class="container">
    <button onclick="calculateResults()">Gauti Rezultatą</button>
    <div id="result"></div>
    <button onclick="downloadPDF()">Atsisiųsti PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jsp</script>
<script>
const questions = [
    // I. Sisteminis Mąstymas (1-5)
    {text:"Kai sprendžiu skyriaus biudžeto sumažinimo problemą, aš...", dim:"Sisteminis", options:[
        {text:"Naudoju formalią matricą...", score:4},
        {text:"Sutelkiu dėmesį tik į savo skyrių...", score:1},
        {text:"Analizuoju poveikį visos organizacijos grandinei...", score:5},
        {text:"Paklausiu kitų vadovų nuomonės...", score:3},
        {text:"Atsižvelgiu į prieštaravimus, bet darau kas geriausia skyriui...", score:2}
    ]},
    {text:"Susidūrus su klientų praradimu, aš...", dim:"Sisteminis", options:[
        {text:"Analizuoju vidinius ir išorinius veiksnius...", score:5},
        {text:"Peržiūriu paskutinių savaičių pardavimus...", score:2},
        {text:"Kaltinu pardavimų skyrių...", score:1},
        {text:"Stengiuosi atsekti vidines klaidas...", score:4},
        {text:"Peržiūriu pardavimų ir kokybės duomenis...", score:3}
    ]},
    // ... (toliau įrašome visus 15 klausimų analogiškai)
];

// Dinamiškai sugeneruojame klausimus
const quizDiv = document.getElementById('quiz');
questions.forEach((q,i)=>{
    const div = document.createElement('div');
    div.className='question';
    div.innerHTML=`<h3>${i+1}. ${q.text}</h3>`;
    const opts = document.createElement('div');
    opts.className='options';
    q.options.forEach((opt,j)=>{
        opts.innerHTML += `<label><input type="radio" name="q${i}" value="${opt.score}"> ${opt.text}</label>`;
    });
    div.appendChild(opts);
    quizDiv.appendChild(div);
});

function calculateResults(){
    let total=0;
    let dimensions={Sisteminis:0,Perframinimas:0,Refleksija:0};
    let counts={Sisteminis:0,Perframinimas:0,Refleksija:0};

    questions.forEach((q,i)=>{
        const val=document.querySelector(`input[name="q${i}"]:checked`);
        if(val){
            total+=parseInt(val.value);
            dimensions[q.dim]+=parseInt(val.value);
            counts[q.dim]++;
        }
    });

    let html=`<h2>Bendras rezultatas: ${total}</h2>`;
    for(let d in dimensions){
        let avg=(dimensions[d]/counts[d]).toFixed(2);
        html+=`<div class="dimension"><strong>${d}:</strong> ${avg} / 5<br>${getAIAdvice(avg)}</div>`;
    }
    document.getElementById('result').innerHTML=html;
}

function getAIAdvice(score){
    if(score>=4.5) return "Puikus strateginis mąstymas – tęskite!";
    if(score>=3.5) return "Gerai, bet galite dar labiau gilinti analizę.";
    if(score>=2.5) return "Vidutiniškai – rekomenduojama lavinti kritinį požiūrį.";
    return "Reikia stipriai tobulinti strateginį mąstymą.";
}

function downloadPDF(){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.text("Strateginio Mąstymo Testo Rezultatai",10,10);
    doc.text(document.getElementById('result').innerText,10,20);
    doc.save("Strateginis_Mastymas_Rezultatai.pdf");
}
</script>
</body>
</html>
